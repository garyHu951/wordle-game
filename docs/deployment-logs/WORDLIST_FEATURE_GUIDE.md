# 單字表功能完整說明

## 功能概述
單字表是Wordle遊戲的重要輔助功能，讓玩家可以查看遊戲中可能出現的所有單字，幫助制定遊戲策略。

## 🎯 主要功能

### 1. 多字數支持
- **4字母單字**: 適合初學者的簡單模式
- **5字母單字**: 經典Wordle模式
- **6字母單字**: 中等難度挑戰
- **7字母單字**: 高難度專家模式

### 2. 智能搜索系統
- **即時搜索**: 輸入關鍵字即時顯示匹配結果
- **模糊匹配**: 支持部分字母匹配
- **搜索限制**: 最多顯示200個搜索結果，確保性能
- **搜索清除**: 一鍵清除搜索條件

### 3. 字母分組顯示
- **按字母排序**: A-Z字母順序組織
- **分組統計**: 顯示每個字母開頭的單字數量
- **漸進加載**: 初始只顯示前5個字母組，避免卡頓

### 4. 性能優化加載
- **分批加載**: 每次加載3個字母組
- **單字限制**: 每個字母組最多顯示100個單字
- **緩存機制**: 已加載的數據會被緩存，避免重複請求
- **懶加載**: 只在需要時才加載更多內容

## 🔧 技術實現

### 前端架構
```
WordListSidebar (主組件)
├── WordSearch (搜索組件)
├── LetterGroup (字母分組組件)
└── WordItem (單字項目組件)
```

### 後端API
- **端點**: `/api/words/:length`
- **方法**: GET
- **參數**: length (4, 5, 6, 7)
- **響應**: JSON格式的單字數組

### 數據結構
```javascript
// API響應格式
{
  "success": true,
  "words": ["ABOUT", "ABOVE", "ABUSE", ...]
}

// 前端狀態管理
{
  words: {4: [...], 5: [...], 6: [...], 7: [...]},
  displayedWords: {5: {A: [...], B: [...]}},
  letterGroups: {5: {groups: {...}, letters: [...]}},
  searchTerm: "",
  filteredWords: {...}
}
```

## 📊 數據統計

### 單字數量 (預估)
- **4字母**: ~1,000+ 單字
- **5字母**: ~2,500+ 單字  
- **6字母**: ~3,000+ 單字
- **7字母**: ~2,000+ 單字

### 性能指標
- **初始加載**: 前5個字母組 (約500個單字)
- **搜索響應**: <300ms
- **分頁加載**: 每次3個字母組
- **內存使用**: 智能緩存，避免重複數據

## 🎮 使用方式

### 1. 開啟單字表
- 在主頁面點擊 "WORD LIST" 按鈕
- 側邊欄從右側滑入顯示

### 2. 選擇字數
- 點擊頂部的數字按鈕 (4, 5, 6, 7)
- 當前選中的字數會高亮顯示

### 3. 瀏覽單字
- 按字母分組顯示
- 每組顯示字母和單字數量
- 滾動查看更多內容

### 4. 搜索單字
- 在搜索框輸入關鍵字
- 即時顯示匹配結果
- 點擊 "✕" 清除搜索

### 5. 加載更多
- 點擊 "LOAD MORE" 按鈕加載更多字母組
- 點擊字母組內的 "LOAD MORE" 加載該字母的更多單字

### 6. 關閉單字表
- 點擊右上角的 "✕" 按鈕
- 或點擊背景遮罩區域

## 🎨 視覺設計

### Pixel風格界面
- **復古像素字體**: Press Start 2P
- **像素邊框**: 模擬8位遊戲風格
- **動畫效果**: 滑入、淡入、彈跳等動畫
- **顏色主題**: 深色背景配亮色文字

### 響應式設計
- **固定寬度**: 384px (w-96)
- **全高度**: 100vh
- **滾動區域**: 內容區域可滾動
- **移動適配**: 在小屏幕上自動調整

## 🔍 搜索功能詳解

### 搜索邏輯
```javascript
// 搜索實現
const matchedWords = allWords
  .filter(word => word.toLowerCase().includes(term))
  .slice(0, SEARCH_RESULTS_LIMIT);
```

### 搜索特性
- **不區分大小寫**: 自動轉換為小寫比較
- **部分匹配**: 支持單字中任意位置的字母匹配
- **結果限制**: 最多200個結果，確保性能
- **即時反饋**: 300ms防抖，避免頻繁請求

### 搜索狀態
- **搜索中**: 顯示搜索詞和結果數量
- **無結果**: 顯示 "NO MATCHES FOUND"
- **清除搜索**: 一鍵返回正常瀏覽模式

## 📈 性能優化

### 1. 分批加載策略
```javascript
const WORDS_PER_LETTER_LIMIT = 100;    // 每字母組最多100個單字
const INITIAL_LETTERS_TO_LOAD = 5;     // 初始加載5個字母組
const LETTERS_PER_LOAD = 3;            // 每次加載3個字母組
const SEARCH_RESULTS_LIMIT = 200;      // 搜索結果限制200個
```

### 2. 緩存機制
- **API響應緩存**: 避免重複請求相同字數的單字
- **字母分組緩存**: 預計算字母分組，避免重複計算
- **顯示狀態緩存**: 記住已加載的內容

### 3. 內存管理
- **按需加載**: 只加載當前需要的內容
- **智能清理**: 切換字數時清理舊數據
- **狀態重置**: 關閉時清理搜索狀態

## 🛠️ 維護和擴展

### 添加新字數支持
1. 在後端添加對應的JSON文件 (如 `8-letter-words.json`)
2. 更新後端加載邏輯
3. 在前端添加新的按鈕選項

### 優化搜索功能
- 可以添加正則表達式搜索
- 支持通配符搜索 (如 `A*E` 匹配以A開頭E結尾的單字)
- 添加搜索歷史功能

### 增強用戶體驗
- 添加單字收藏功能
- 顯示單字定義或翻譯
- 添加單字難度標記

## 🔒 數據安全

### 不雅詞彙過濾
- 使用 `profanity-filter.json` 過濾不當內容
- 定期更新過濾詞庫
- 保留備份文件以便恢復

### API安全
- 無需認證的公開API
- 限制請求頻率，防止濫用
- 錯誤處理，避免敏感信息洩露

## 📱 用戶體驗

### 優點
- **直觀易用**: 清晰的界面和操作邏輯
- **性能優秀**: 智能加載，響應迅速
- **功能完整**: 搜索、分組、統計一應俱全
- **視覺美觀**: Pixel風格，復古有趣

### 使用場景
- **策略制定**: 查看可能的單字，制定猜測策略
- **學習工具**: 擴展詞彙量，學習新單字
- **遊戲輔助**: 在困難時查看提示
- **好奇探索**: 了解遊戲的單字庫規模

---

**總結**: 單字表功能是一個功能完整、性能優秀、用戶友好的輔助工具，為Wordle遊戲提供了重要的策略支持和學習價值。通過智能的分批加載、高效的搜索功能和美觀的Pixel風格界面，為玩家提供了優秀的使用體驗。